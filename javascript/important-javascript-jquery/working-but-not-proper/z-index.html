<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{padding:0;margin:0;box-sizing: border-box;}
        main{width: 100%;display: flex;flex-direction: column;}
        header{min-height: 80px;background: #333;color:#fff;text-align: center;}
        section{min-height: 50vh;background: #ddd;position: relative;}
        section:not(:last-child){border-bottom: 2px solid #000;}
        section aside{position: absolute;top:50%;transform:translateY(-50%);background: #aaa;width: 100%;height: 200px;}
        section aside div{position: absolute;width: 100%;background: brown;color:#fff;height: 70%;top:15%;left:0;}
        
        section.one aside{z-index: 9;}
        section.one aside div{z-index: -99;}

        section.two aside{z-index: 9;}
        section.two aside div{z-index: 99;}

        footer{min-height: 350px;background: #333;color:#fff;text-align: center;}
    </style>
</head>
<body>
    <main>
        <header>Header</header>
        <section class="one">
            <aside>
                <div>Here the z-index is working only on aside, It will not work on child of aside.</div>
            </aside>
        </section>
        <section class="two">
            <aside>
                <div>Here the z-index works only on aside, It is not working on aside div child of child.</div>
            </aside>
        </section>
        <footer>Footer</footer>
    </main>
</body>
</html>